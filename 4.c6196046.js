(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{96:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var n=a(83),r=a.n(n),l=a(84),s=a.n(l),o=a(12),i=a.n(o),c=a(13),u=a.n(c),m=a(20),d=a.n(m),p=a(14),f=a.n(p),y=a(15),w=a.n(y),b=a(11),h=a.n(b),g=a(26),E=a.n(g),T=a(0),O=a.n(T),v=a(85),P=a.n(v),k=a(16),x=a(87),S=a(89),N=a(90),C=a(88),A=a(92),F=a(81),B=a(82);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return w()(this,a)}}var R=function(e){f()(a,e);var t=M(a);function a(e){var n;return i()(this,a),n=t.call(this,e),E()(d()(n),"getPlayerOne",s()(r.a.mark((function e(){var t,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.refs.inputOne.value).match(/^[ ]*$/)){e.next=5;break}return alert("Player One不能为空！"),n.refs.inputOne.value="",e.abrupt("return");case 5:return a="https://api.github.com/search/repositories?q=".concat(t),n.setState({loadingOne:!0}),e.prev=7,e.next=10,P.a.get(a);case 10:if(0!==(l=e.sent).data.total_count){e.next=15;break}return n.setState({notFoundPlayerOne:!0}),n.refs.inputOne.value="",e.abrupt("return");case 15:n.props.setPlayerOne(l.data.items[0]),n.setState({isOne:!0,notFoundPlayerOne:!1,errorOne:!1}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),e.t0.response&&n.setState({errorOne:!0,errorOneMessage:e.t0.response.data.message});case 22:n.setState({loadingOne:!1}),n.state.isOne&&n.state.isTwo?n.refs.battle.disabled="":n.refs.battle.disabled="disabled";case 24:case"end":return e.stop()}}),e,null,[[7,19]])})))),E()(d()(n),"findOneAgain",(function(){n.props.setPlayerOne({}),n.setState({isOne:!1}),n.refs.battle.disabled="disabled"})),E()(d()(n),"getPlayerTwo",s()(r.a.mark((function e(){var t,a,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.refs.inputTwo.value).match(/^[ ]*$/)){e.next=5;break}return alert("Player Two不能为空！"),n.refs.inputTwo.value="",e.abrupt("return");case 5:return a="https://api.github.com/search/repositories?q=".concat(t),n.setState({loadingTwo:!0}),e.prev=7,e.next=10,P.a.get(a);case 10:if(0!==(l=e.sent).data.total_count){e.next=15;break}return n.setState({notFoundPlayerTwo:!0}),n.refs.inputTwo.value="",e.abrupt("return");case 15:n.props.setPlayerTwo(l.data.items[0]),n.setState({isTwo:!0,notFoundPlayerTwo:!1,errorTwo:!1}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),e.t0.response&&n.setState({errorTwo:!0,errorTwoMessage:e.t0.response.data.message});case 22:n.setState({loadingTwo:!1}),n.state.isOne&&n.state.isTwo?n.refs.battle.disabled="":n.refs.battle.disabled="disabled";case 24:case"end":return e.stop()}}),e,null,[[7,19]])})))),E()(d()(n),"findTwoAgain",(function(){n.props.setPlayerTwo({}),n.setState({isTwo:!1}),n.refs.battle.disabled="disabled"})),E()(d()(n),"oneInputChange",(function(){n.refs.inputOne.value.match(/^[ ]*$/)?n.refs.submitOne.className="btn-primary disabled":n.refs.submitOne.className="btn-primary"})),E()(d()(n),"twoInputChange",(function(){n.refs.inputTwo.value.match(/^[ ]*$/)?n.refs.submitTwo.className="btn-primary disabled":n.refs.submitTwo.className="btn-primary"})),E()(d()(n),"oneEnter",(function(e){"Enter"===e.key&&n.getPlayerOne()})),E()(d()(n),"twoEnter",(function(e){"Enter"===e.key&&n.getPlayerTwo()})),n.state={isOne:!1,isTwo:!1,loadingOne:!1,loadingTwo:!1,notFoundPlayerOne:!1,notFoundPlayerTwo:!1,errorOne:!1,errorTwo:!1,errorOneMessage:"",errorTwoMessage:""},n}return u()(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.playerOne,r=a.playerTwo,l=this.state,s=l.isOne,o=l.isTwo,i=l.loadingOne,c=l.loadingTwo,u=l.notFoundPlayerOne,m=l.notFoundPlayerTwo,d=l.errorOne,p=l.errorOneMessage,f=l.errorTwo,y=l.errorTwoMessage;return u?e=O.a.createElement("p",null,"未找到该用户"):d&&(e=alert(p)),m?t=O.a.createElement("p",null,"未找到该用户"):f&&(t=alert(y)),O.a.createElement(x.a,null,O.a.createElement("h1",{style:{textAlign:"center",marginBottom:30}},"Instructions"),O.a.createElement(S.a,{style:{textAlign:"center",marginBottom:30}},O.a.createElement(N.a,{lg:4,md:4,sm:6},O.a.createElement("h4",null,"Enter Two Github Users"),O.a.createElement(F.a,{style:{color:"#ffbf74",fontSize:150},icon:B.f})),O.a.createElement(N.a,{lg:4,md:4,sm:6},O.a.createElement("h4",null,"Battle"),O.a.createElement(F.a,{style:{color:"#b8e2f2",fontSize:150},icon:B.b})),O.a.createElement(N.a,{lg:4,md:4,sm:6},O.a.createElement("h4",null,"See The Winner"),O.a.createElement(F.a,{style:{color:"#ffdf36",fontSize:150},icon:B.e}))),O.a.createElement("h1",{style:{textAlign:"center"}},"Fight"),O.a.createElement(S.a,{style:{textAlign:"center"}},O.a.createElement(N.a,{lg:6,md:6,sm:12},O.a.createElement("h4",null,"Player One"),i?O.a.createElement("div",null,"正在查找",O.a.createElement(C.a,{animation:"border"})):s?O.a.createElement("div",{style:{}},O.a.createElement("div",null,O.a.createElement("span",null,"playerName:",n.name),O.a.createElement("div",null,O.a.createElement("img",{className:"img-thumbnail lazyload","data-src":n.owner.avatar_url,alt:n.name,style:{height:100,width:100}}))),O.a.createElement("div",{style:{textAlign:"center"}},O.a.createElement("button",{className:"btn-primary",onClick:this.findOneAgain},"删除"))):O.a.createElement("div",null,O.a.createElement("input",{className:"btn_input",ref:"inputOne",placeholder:"输入Player One",onChange:this.oneInputChange,onKeyDown:this.oneEnter}),O.a.createElement("button",{onClick:this.getPlayerOne,ref:"submitOne",className:"btn-primary disabled"},"查找"),O.a.createElement("div",null,e))),O.a.createElement(N.a,{lg:6,md:6,sm:12},O.a.createElement("h4",null,"Player Two"),c?O.a.createElement("div",null,"正在查找",O.a.createElement(C.a,{animation:"border"})):o?O.a.createElement("div",{style:{}},O.a.createElement("div",{style:{textAlign:"center"}}),O.a.createElement("span",null,"playerName:",r.name),O.a.createElement("div",null,O.a.createElement("img",{className:"img-thumbnail lazyload","data-src":r.owner.avatar_url,alt:r.name,style:{height:100,width:100}})),O.a.createElement("button",{className:"btn-primary",onClick:this.findTwoAgain},"删除")):O.a.createElement("div",{style:{}},O.a.createElement("input",{className:"btn_input",ref:"inputTwo",placeholder:"输入Player Two",onChange:this.twoInputChange,onKeyDown:this.twoEnter}),O.a.createElement("button",{onClick:this.getPlayerTwo,ref:"submitTwo",className:"btn-primary disabled"},"查找"),O.a.createElement("div",null,t)))),O.a.createElement("div",{style:{textAlign:"center"}},O.a.createElement(k.b,{to:{pathname:"/BattleResult",search:"?user1=".concat(n.name,"&user2=").concat(r.name),state:{playerOne:n,playerTwo:r}}},O.a.createElement(A.a,{ref:"battle",variant:"primary",disabled:"disabled"},"Battle"))))}}]),a}(T.Component),_=function(e){f()(a,e);var t=M(a);function a(e){var n;return i()(this,a),n=t.call(this,e),E()(d()(n),"setPlayerOne",(function(e){n.setState({playerOne:e})})),E()(d()(n),"setPlayerTwo",(function(e){n.setState({playerTwo:e})})),n.state={playerOne:{},playerTwo:{}},n}return u()(a,[{key:"render",value:function(){var e=this.state,t=e.playerOne,a=e.playerTwo;return O.a.createElement(R,{setPlayerOne:this.setPlayerOne,setPlayerTwo:this.setPlayerTwo,playerOne:t,playerTwo:a})}}]),a}(T.Component)}}]);
//# sourceMappingURL=4.c6196046.js.map