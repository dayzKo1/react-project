{"version":3,"sources":["webpack:///C:/Users/AAA/Desktop/github/github/react-project/my-app/src/components/MyCard.jsx","webpack:///C:/Users/AAA/Desktop/github/github/react-project/my-app/src/pages/Popular.jsx"],"names":["MyCard","window","open","props","htmlUrl","this","listNum","avatar","name","starsCount","forksCount","openIssuesCount","className","onClick","openNewPage","title","style","marginBottom","backgroundColor","textAlign","Img","width","padding","variant","Body","Title","fontSize","color","textTransform","icon","faUsers","faStar","faShareAlt","faExclamation","Component","defaultProps","Popular","e","url","target","getAttribute","document","querySelectorAll","forEach","btn","classList","remove","add","setState","githubData","tabName","tabUrl","pageNum","hasMore","error","setTimeout","FetchGit","state","tabList","count","loading","pageTotal","errorContent","a","obj","location","href","includes","arr","split","i","length","res","language","axios","get","data","items","filterOption","getElementById","response","message","concat","renderInfo","animation","pageStart","loadMore","loader","key","map","item","index","lg","md","sm","owner","avatar_url","login","stargazers_count","forks_count","open_issues_count","html_url","alert","marginTop","list","paddingRight","to","pathname","search","id","switchTab"],"mappings":"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","file":"3.0ad6589a.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUsers, faStar, faShareAlt, faExclamation, } from \"@fortawesome/free-solid-svg-icons\";\r\nexport default class MyCard extends Component {\r\n  openNewPage = () => {\r\n    window.open(this.props.htmlUrl);\r\n  };\r\n  render() {\r\n    const {\r\n      listNum,\r\n      avatar,\r\n      name,\r\n      starsCount,\r\n      forksCount,\r\n      openIssuesCount,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"MyCard hoverable\" onClick={this.openNewPage} title={name}>\r\n        <Card className=\"Card\" style={{ marginBottom: 30, backgroundColor: '#b8e2f2' }}>\r\n          <div className=\"CardNum\" style={{ textAlign: 'center' }}>#{listNum}</div>\r\n          <Card.Img className=\"CardImg img-fluid img-thumbnail lazyload\" style={{ width: '100%', padding: 20 }} variant=\"top\" data-src={avatar} />\r\n          <Card.Body>\r\n            <Card.Title className=\"CardTitle\" style={{ textAlign: 'center', fontSize: 15, color: 'red', textTransform: 'uppercase' }}>{name}</Card.Title>\r\n            <div>\r\n              <div style={{ marginBottom: \"5px\" }}>\r\n                <FontAwesomeIcon style={{ color: '#ffbf74', width: 20 }} icon={faUsers} />\r\n                <span> {name}</span>\r\n              </div>\r\n              <div style={{ marginBottom: \"5px\" }}>\r\n                <FontAwesomeIcon style={{ color: '#ffd700', width: 20 }} icon={faStar} />\r\n                <span>{starsCount} stars</span>\r\n              </div>\r\n              <div style={{ marginBottom: \"5px\" }}>\r\n                <FontAwesomeIcon style={{ color: '#82c3f5', width: 20 }} icon={faShareAlt} />\r\n                <span>{forksCount} forks</span>\r\n              </div>\r\n              <div>\r\n                <FontAwesomeIcon style={{ color: '#f18a92', width: 20 }} icon={faExclamation} />\r\n                <span>{openIssuesCount} open Issues</span>\r\n              </div>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nMyCard.defaultProps = {\r\n  listNum: '???',\r\n  avatar: '???',\r\n  name: '???',\r\n  starsCount: '???',\r\n  forksCount: '???',\r\n  openIssuesCount: '???'\r\n}","import React, { Component } from 'react'\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Container, Row, Col, Spinner } from 'react-bootstrap';\r\nimport MyCard from \"@/components/MyCard.jsx\";\r\nexport default class Popular extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tabList: [\r\n        {\r\n          name: \"All\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E11&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n        {\r\n          name: \"java\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E11+language:java&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n        {\r\n          name: \"javascript\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E11+language:javascript&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n        {\r\n          name: \"css\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E11+language:css&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n        {\r\n          name: \"ruby\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E1+language:ruby&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n        {\r\n          name: \"python\",\r\n          url:\r\n            \"https://api.github.com/search/repositories?q=stars:%3E1+language:python&sort=stars&order=desc&type=Repositories&page=\",\r\n        },\r\n      ],\r\n      tabName: \"All\",\r\n      tabUrl:\r\n        \"https://api.github.com/search/repositories?q=stars:%3E11&sort=stars&order=desc&type=Repositories&page=\",\r\n      githubData: [],\r\n      count: 0,\r\n      loading: true,\r\n      pageNum: 1,\r\n      pageTotal: 5,\r\n      hasMore: true,\r\n      errorContent: {},\r\n      error: false\r\n    };\r\n  }\r\n  switchTab = (e, { name, url }) => {\r\n    let { target } = e;\r\n    const filterOption = target.getAttribute(\"data-filter\");\r\n    if (filterOption) {\r\n      document.querySelectorAll(\".tab-list.active\").forEach((btn) => {\r\n        btn.classList.remove(\"active\");\r\n      });\r\n      target.classList.add(\"active\");\r\n    }\r\n    this.setState({\r\n      githubData: [],\r\n      tabName: name,\r\n      tabUrl: url,\r\n      pageNum: 1,\r\n      hasMore: true,\r\n      error: false\r\n    });\r\n    setTimeout(() => {\r\n      this.FetchGit();\r\n    }, 200);\r\n  };\r\n\r\n  //获得数据\r\n  async FetchGit() {\r\n    if (this.state.count === 0) {\r\n      // const name = localStorage.getItem(\"name\");\r\n      let obj = {};\r\n      // console.log(window.location.href);\r\n      if (window.location.href.includes(\"?\")) {\r\n        let arr = window.location.href.split(\"?\")[1].split(\"&\");\r\n        for (let i = 0; i < arr.length; i++) {\r\n          let res = arr[i].split(\"=\");\r\n          obj[res[0]] = res[1];\r\n        }\r\n      }\r\n      // console.log(obj.language);\r\n      if (obj.language) {\r\n        try {\r\n          const tabUrl = `https://api.github.com/search/repositories?q=stars:%3E1+language:${obj.language}&sort=stars&order=desc&type=Repositories&page=`;\r\n          const url = tabUrl + this.state.pageNum;\r\n          const res = await axios.get(url);\r\n          // console.log(res);\r\n          this.setState({\r\n            githubData: res.data.items,\r\n            loading: false,\r\n            count: this.state.count + 1,\r\n            name: obj.language,\r\n            tabUrl: tabUrl,\r\n            pageNum: 2,\r\n          });\r\n          const filterOption = document.getElementById(obj.language);\r\n          // console.log(filterOption);\r\n          if (filterOption) {\r\n            document\r\n              .querySelectorAll(\".tab-list.active\")\r\n              .forEach((btn) => btn.classList.remove(\"active\"));\r\n            filterOption.classList.add(\"active\");\r\n          }\r\n        } catch (e) {\r\n          const errorContent = e.response.data.message;\r\n          this.setState({\r\n            githubData: [],\r\n            errorContent,\r\n            error: true,\r\n          });\r\n        }\r\n      } else {\r\n        const { pageNum, tabUrl, githubData, pageTotal } = this.state;\r\n        if (pageNum > pageTotal) {\r\n          this.setState({\r\n            hasMore: false,\r\n          });\r\n          return;\r\n        }\r\n        try {\r\n          const url = tabUrl + pageNum;\r\n          const res = await axios.get(url);\r\n          this.setState({\r\n            githubData: githubData.concat(res.data.items),\r\n            loading: false,\r\n            pageNum: pageNum + 1,\r\n          });\r\n          const filterOption = document.getElementById(\"All\");\r\n          if (filterOption) {\r\n            document\r\n              .querySelectorAll(\".tab-list.active\")\r\n              .forEach((btn) => btn.classList.remove(\"active\"));\r\n            filterOption.classList.add(\"active\");\r\n          }\r\n        } catch (e) {\r\n          const errorContent = e.response.data.message;\r\n          this.setState({\r\n            githubData: [],\r\n            errorContent,\r\n            error: true,\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      const { pageNum, tabUrl, githubData, pageTotal } = this.state;\r\n      if (pageNum > pageTotal) {\r\n        this.setState({\r\n          hasMore: false,\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        const url = tabUrl + pageNum;\r\n        const res = await axios.get(url)\r\n        // console.log(res);\r\n        this.setState({\r\n          githubData: githubData.concat(res.data.items),\r\n          loading: false,\r\n          pageNum: pageNum + 1,\r\n          error: false,\r\n        });\r\n      } catch (e) {\r\n        const errorContent = e.response.data.message;\r\n        // console.log(e.response.data.message);\r\n        this.setState({\r\n          githubData: [],\r\n          errorContent,\r\n          error: true,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.querySelectorAll(\".tab-list.active\").forEach((btn) => {\r\n      btn.classList.remove(\"active\");\r\n    });\r\n    this.FetchGit();\r\n  }\r\n\r\n  render() {\r\n    let renderInfo;\r\n    const { githubData, hasMore, errorContent, error } = this.state;\r\n    renderInfo = (<div>\r\n      <div style={{ textAlign: 'center' }}>\r\n        <Spinner animation=\"grow\">\r\n        </Spinner>\r\n        加载中，请稍等...\r\n      </div>\r\n    </div>\r\n    );\r\n    if (githubData.length !== 0) {\r\n      renderInfo = (\r\n        <InfiniteScroll\r\n          pageStart={0}\r\n          loadMore={() => this.FetchGit()}\r\n          hasMore={hasMore}\r\n          loader={\r\n            <div key={0}>\r\n              <div style={{ textAlign: 'center' }}>\r\n                <Spinner animation=\"border\" />正在查找\r\n              </div>\r\n            </div>\r\n          }\r\n        >\r\n          <Container>\r\n            <Row>\r\n              {githubData.map((item, index) => {\r\n                return (\r\n                  <Col lg={3} md={4} sm={6}>\r\n                    <MyCard\r\n                      key={index}\r\n                      listNum={++index}\r\n                      avatar={item.owner.avatar_url}\r\n                      name={item.owner.login}\r\n                      starsCount={item.stargazers_count}\r\n                      forksCount={item.forks_count}\r\n                      openIssuesCount={item.open_issues_count}\r\n                      htmlUrl={item.html_url}\r\n                    />\r\n                  </Col>\r\n                );\r\n              })}\r\n            </Row>\r\n          </Container>\r\n        </InfiniteScroll>\r\n\r\n      );\r\n    } else if (error) {\r\n      renderInfo = (\r\n        alert(errorContent)\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <Container style={{ marginBottom: 30, marginTop: 30 }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            {this.state.tabList.map((list, index) => {\r\n              return (\r\n                <NavLink style={{ paddingRight: 30 }}\r\n                  to={{\r\n                    pathname: `/Popular`,\r\n                    search: `?language=${list.name}`,\r\n                  }}\r\n                  className=\"tab-list\"\r\n                  key={index}\r\n                  data-filter={list.name}\r\n                  id={list.name}\r\n                  onClick={(e) => this.switchTab(e, list)}\r\n                >\r\n                  {list.name}\r\n                </NavLink>\r\n              );\r\n            })}\r\n          </div>\r\n        </Container>\r\n        {renderInfo}\r\n      </div>\r\n    );\r\n\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}